<ion-header>
  <ion-navbar>
    <ion-title>บันทึกรายการซื้อขยะ</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item>
        <ion-avatar item-start>
            <img src="{{url_server}}/images/users/{{image_url}}" />
          </ion-avatar>
          <h2>{{ fullname }}</h2>
          <p>สมาชิกผู้ขายขยะ</p>
          <p>{{ address }}</p>
    </ion-item>
  </ion-list>
  

  <div class="showdetails" *ngIf="!isHide">
    <ion-grid no-padding>
      <ion-row>
        <ion-col col-12 col-md-12 col-lg-6 *ngFor="let item of items;let i = index">
          <ion-card padding class="card">

            <ion-fab top right edge>
              <button ion-fab mini color="danger" (click)="removeItem(i)">
                <ion-icon name="close"></ion-icon>
              </button>
            </ion-fab>
            <h2 item-start>
              <button ion-button round>{{ item.name }}</button>
              <b>{{ item.price }} บาท :{{ item.unit_name }}</b>
            </h2>

            <ion-card-content>

              <ion-card-title no-padding>
                <ion-row>

                  <ion-col col-6>
                    <h2 card-title>จำนวน</h2>
                    <h3 card-subtitle>{{ item.amount }} {{ item.unit_name }}</h3>
                  </ion-col>
                  <ion-col col-6 text-right>
                    <h2 card-title>เป็นเงิน</h2>
                    <h3 card-subtitle>{{ item.price * item.amount }} บาท</h3>
                  </ion-col>
                </ion-row>

              </ion-card-title>

            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid no-padding background-size container-hearder-image style="background-image: url(assets/images/background-small/10.jpg)">
      <ion-row padding>
        <ion-col col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 text-left>
          <h1 header-title>รวมเป็นเงิน</h1>
        </ion-col>
        <ion-col col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 text-right>
          <span span-large>{{ total }} </span>
          <span header-subtitle>บาท</span>
        </ion-col>
      </ion-row>

      <ion-grid>
        <ion-row>
          <ion-col col-6>
            <button ion-button color="danger" block round (click)="cancelPurchaseProfile()" *ngIf="!isHide" [disabled]="!isDisabled">ยกเลิกรายการซื้อขยะ</button>
          </ion-col>
          <ion-col col-6>
            <button ion-button color="facebook" block round (click)="createPurchaseProfile()" *ngIf="!isHide"
              [disabled]="!isDisabled">บันทึกรายการซื้อขยะ</button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-grid>
  </div>
  <!--showdetails-->

  <div class="showAfterSaveDetails" *ngIf="isHide">
    <ion-grid>
        <ion-card>
            <ion-card-header>
                <h1 header-title>ทำการบันทึกข้อมูลเรียบร้อยแล้ว</h1>
            </ion-card-header>
          </ion-card>
        <ion-list>
        
            <ion-item  *ngFor="let item of items;let i = index">
                <ion-avatar item-start>
                  <img src="{{url_server}}/images/users/{{image_url}}">
                </ion-avatar>
                <h2>{{ item.name }}</h2>
                <h3>{{ item.price }} บาท :{{ item.unit_name }}</h3>
                <h3 card-subtitle>จำนวน : {{ item.amount }} {{ item.unit_name }}</h3>
                <button ion-button round item-end>{{ item.price * item.amount }} บาท</button>
              </ion-item>
          </ion-list>

          <ion-card>
              <ion-card-header>
                  <h1 header-title>รวมเป็นเงิน :  {{ total }}  บาท</h1>
              </ion-card-header>
            </ion-card>
    </ion-grid>
    <ion-grid>
        <button ion-button color="" block round *ngIf="isHide">ปริ้นใบเสร็จ</button>
          <button ion-button color="twitter" block round class="my-col-4" *ngIf="isHide" [navPush]="FindSellerPage">ค้นหาผู้ขายขยะ</button>
          <button ion-button color="google" block round *ngIf="isHide" [navPush]="MainMenuPage">กลับหน้าหลัก</button>
    </ion-grid>
  </div>
  <!--showAfterSaveDetails-->
</ion-content>
